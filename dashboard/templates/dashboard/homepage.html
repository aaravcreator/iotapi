{% extends 'base.html' %}

{% block content %}
<div class="mt-3">
    {% for message in messages %}
  <div class="alert text-white  bg-primary  alert-dismissible" role="alert">
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
    {{ message }}
  </div>
{% endfor %}
</div>
<div class="container-fluid px-4">
    <ol class="breadcrumb mb-4">
        <li class="breadcrumb-item active">Today's Data</li>
    </ol>
    <div class="row">
        <!-- <div class="col-xl-3 col-md-6">
            <div class="card bg-primary text-white mb-4">
                <div class="card-body"><i class="fas fa-user-plus fa-3x"></i></div>
                <div class="card-footer d-flex align-items-center justify-content-between">
                    <a class="small text-white stretched-link" href="#">Add New Account</a>
                    <div class="small text-white"></div>
                </div>
            </div>
        </div>
 -->

        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card border-left-primary shadow h-100 py-2 bg-primary">
                <div class="card-body">
                    <div class="row no-gutters align-items-center">
                        <div class="col mr-2">
                            <div class="text-lg font-weight-bold text-white text-uppercase mb-1">
                                TEMPERATURE</div>
                            <div class="h2 mb-0 font-weight-bold text-white">{% if last_sensor_reading %}{{last_sensor_reading.temp}} {%else%}N/A{%endif%}</div>
                        </div>
                        <div class="col-auto">
                            <i class="fas fa-thermometer fa-5x text-white"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>



        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card border-left-primary shadow h-100 py-2">
                <div class="card-body">
                    <div class="row no-gutters align-items-center">
                        <div class="col mr-2">
                            <a class="small text-white stretched-link" href="#"></a>
                            <div class="text-lg font-weight-bold text-primary text-uppercase mb-1">
                                HUMIDITY</div>
                            <div class="h2 mb-0 font-weight-bold text-gray-800">{% if last_sensor_reading %}{{last_sensor_reading.humidity}} {%else%}N/A{%endif%}</div>
                        </div>
                        <div class="col-auto">
                            <i class="fas fa-cloud fa-5x text-dark"></i>
                            <!-- <i class="fas fa-cloud"></i> -->
                            <a class="small text-white stretched-link" href="#"></a>

                        </div>
                    </div>
                </div>
            </div>
        </div>

        
            <div class="col-xl-3 col-md-6 mb-4">
                <div class="card border-left-primary shadow h-100 py-2">
                    <a href="{% url 'dashboard:change_led_status' %}">
                    <div class="card-body">
                        <div class="row no-gutters align-items-center">
                            <div class="col mr-2">
                                <div class="text-lg font-weight-bold text-primary text-uppercase mb-1">
                                    LED</div>
                                <div class="h2 mb-0 font-weight-bold text-gray-800">{{led.status}}</div>
                            </div>
                            <div class="col-auto">
                                <i class="fas fa-lightbulb text-dark fa-5x"></i>
    
                            </div>
                        </div>
                    </div>

                </a>
                </div>
            </div>

    
        
        
    </div>

    <div class="row">
        <div class="card card-acent-primary">
            <div class="card-header "> <strong>Last 10 Sensor Readings</strong> </div>
          
            <div class="card-body">
                <table class ='table table-bordered table-striped '>
                    <thead>
                        <tr class="bg-dark text-white">
                            <th scope="col">Datetime</td>
                                <th scope="col">Temperature</th>
                             <td scope="col">Humidity</td>
                              <td scope="col">Remarks</td> 
                              <td scope="col"></td>
                        </tr>    
                    </thead>
                    
                    <tbody>
                        {% if sensor_readings %}
                        {% for reading in sensor_readings %}
                        <tr>
                            <td>{{reading.created_at |date:'Y-m-d H:i:s'}}</td>
                            <td>{{reading.temp}}</td>
                            <td>{{reading.humidity}}</td>
                            <td>{{reading.remarks}}</td>
                            <td>
                            </td>
                        </tr>
        
                        {%endfor%}
                        {%else%}
                        <tr>
                            <td colspan="5" class="text-center">No sensor readings found</td>
                        </tr>
                        {% endif%}
        
        
                    </tbody>
                    </table>
            </div>
          
          </div>
    </div>
    <!-- <div class="row">
        <div class="col-xl-6">
            <div class="card mb-4">
                <div class="card-header">
                    <i class="fas fa-chart-area me-1"></i>
                    Area Chart Example
                </div>
                <div class="card-body"><canvas id="myAreaChart" width="100%" height="40"></canvas></div>
            </div>
        </div>
        <div class="col-xl-6">
            <div class="card mb-4">
                <div class="card-header">
                    <i class="fas fa-chart-bar me-1"></i>
                    Bar Chart Example
                </div>
                <div class="card-body"><canvas id="myBarChart" width="100%" height="40"></canvas></div>
            </div>
        </div>
    </div> -->


</div>

{% endblock %}